(rule
  (targets ipfs_cids.ml)
  (deps (:gen ../gen/ipfs_cids.exe))
  (action (run %{gen} -o %{targets})))

(executable
  (name abella)
  (modules abella)
  (libraries abella_lib unix))

(executable
  (name abella_doc)
  (modules abella_doc)
  (libraries abella_lib unix))

(library
  (name abella_lib)
  (modules :standard \ abella abella_doc)
  (wrapped false)
  (libraries yojson unix))

(ocamllex
  (modules lexer))

(menhir
  (modules parser)
  (infer true)
  (flags --explain))